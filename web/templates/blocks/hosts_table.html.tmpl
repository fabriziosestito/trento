{{ define "additional_scripts" }}
    <script src="/static/frontend/assets/js/tags.js"></script>
{{ end }}
{{ define "hosts_table" }}
    <div class='table-responsive'>
        <table class='table eos-table'>
            <thead>
            <tr>
                <th scope='col'></th>
                <th scope='col'>Name</th>
                <th scope='col'>Address</th>
                <th scope='col'>Cloud provider</th>
                <th scope='col'>Cluster</th>
                <th scope='col'>System</th>
                <th scope='col'>Cluster Tags</th>
                <th scope='col'>Tags</th>
            </tr>
            </thead>
            <tbody>
            {{ $ClusterTags := .ClusterTags }}
            {{ $HostTags := .HostTags }}
            {{- range .Hosts }}
                {{ $TrentoMeta := .TrentoMeta }}
                <tr>
                    <td class="row-status">
                        {{ template "health_icon" .Health }}
                    </td>
                    <td>
                        <a href='/hosts/{{ .Name }}'>
                            {{ .Name }}
                        </a>
                    </td>
                    <td>{{ .Address }}</td>
                    <td>{{ index .TrentoMeta "trento-cloud-provider" }}</td>
                    <td>
                        <a href='/clusters/{{ index .TrentoMeta "trento-ha-cluster-id" }}'>
                            {{ index .TrentoMeta "trento-ha-cluster" }}
                        </a>
                    </td>
                    <td>
                        {{- range $i, $v := split (index $TrentoMeta "trento-sap-systems") "," }}{{- if $i }},{{- end }}
                        <a href="/sapsystems/{{ $v }}">
                            {{ $v }}
                        </a>
                        {{- end }}
                    </td>
                    <td>
                        {{- range (index $ClusterTags .Name) }}
                            <span class="badge badge-info">{{ . }}</span>
                        {{- end }}
                    </td>
                    <td>
                        <select class="tags-input form-control" data-url="/api/hosts/{{ .Name }}/tags"
                                {{/* {{- if $ClusterId }}
                                    data-parent-url="/api/clusters/{{ $ClusterId }}/tags"
                                {{- end }} */}}
                                multiple="multiple">
                                {{- range (index $HostTags .Name) }}
                                    <option value="{{ . }}" selected="selected">{{ . }}</option>
                                {{- end }}
                        </select>
                    </td>
                </tr>
            {{- else }}
                {{ template "empty_table_body" 5}}
            {{- end }}
            </tbody>
        </table>
    </div>
{{ end }}
